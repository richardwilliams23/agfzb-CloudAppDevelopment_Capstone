<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}{% endblock %}</title>
    {% load static %}

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.5.0/css/bootstrap-datepicker.css" rel="stylesheet">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.5.0/js/bootstrap-datepicker.js"></script>

    <script type="text/javascript">
      function getTitle() {
        document.getElementById("page-name").innerText = document.title;
      }
    </script>

</head>


<body onload="getTitle()">

  <!-- Navigation bar -->
  <nav class="navbar navbar-expand-sm bg-light navbar-light pt-3">

    <div class="row">

      <!-- Column 1 -->
      <div class="col-sm-7">
        <ul class="navbar-nav">

          <li class="nav-item">
            <!-- Logo picture -->
            <a class="navbar-brand" href="{% url 'djangoapp:index' %}">
              <img src="{% static 'djangoapp/beetle.png' %}" alt="Logo" style="width:100px;">
            </a>
          </li>

          <li class="nav-item">
            <!-- Page title -->
            <p class="navbar-brand navbar-left" id="page-name"></p>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="{% url 'djangoapp:about' %}">About</a>
          </li>

          <li class="nav-item">
            <a class="nav-link" href="{% url 'djangoapp:contact' %}">Contact</a>
          </li>

        </ul>
      </div>

      <!-- Column 2 -->
      <div class="col-sm-5">
        <ul class="navbar-nav">

          {% if user.is_authenticated %}

            <!-- Username & Logout button -->
            <li>
              <a class="btn btn-link" href="#">{{ user.first_name }} ({{ user.username }})</a>
              <a class="btn btn-link" href="{% url 'djangoapp:logout' %}">Logout</a>
            </li>

          {% else %}

          <!-- Login form -->
            <li>

              <form class="form-inline" action="{% url 'djangoapp:login' %}" method="post">
                {% csrf_token %}
                <div class="input-group">
                  <input type="text" class="form-control" placeholder="Username" name="username">
                  <input type="password" class="form-control" placeholder="Password" name="psw">
                  <button class="btn btn-primary" type="submit">Login</button>

                  <a class="btn btn-link" href="{% url 'djangoapp:registration' %}">Sign Up</a>
                </div>
              </form>

            </li>

          {% endif %}

        </ul>
      </div>

    </div>

  </nav>

  <!-- Page content -->
  <div class="container-fluid">
    {% block content %}{% endblock %}
  </div>

  <!-- Footer -->
  <nav class="navbar navbar-expand-sm bg-light justify-content-center height=200px">
    <ul class="nav navbar-nav">
      <li class="nav-item">
        <a class="nav-link" href="{% url 'djangoapp:index' %}"> Home </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="{% url 'djangoapp:about' %}"> About </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="{% url 'djangoapp:contact' %}"> Contact </a>
      </li>   
    </ul>
  </nav>

</body>
</html>
